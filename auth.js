const _0x24a50f=_0x47f3;(function(_0x3decbc,_0x269a31){const _0x1a53ed=_0x47f3,_0x3312f7=_0x3decbc();while(!![]){try{const _0x2bd95f=parseInt(_0x1a53ed(0x192))/0x1+parseInt(_0x1a53ed(0x1c8))/0x2+parseInt(_0x1a53ed(0x1ce))/0x3+-parseInt(_0x1a53ed(0x1a2))/0x4*(-parseInt(_0x1a53ed(0x1c9))/0x5)+-parseInt(_0x1a53ed(0x1b4))/0x6*(-parseInt(_0x1a53ed(0x1a9))/0x7)+parseInt(_0x1a53ed(0x1a5))/0x8+parseInt(_0x1a53ed(0x18f))/0x9*(-parseInt(_0x1a53ed(0x1bf))/0xa);if(_0x2bd95f===_0x269a31)break;else _0x3312f7['push'](_0x3312f7['shift']());}catch(_0x43feb4){_0x3312f7['push'](_0x3312f7['shift']());}}}(_0x46ae,0x4612f));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js';function _0x46ae(){const _0x1bb5e9=['Cet\x20identifiant\x20est\x20déjà\x20utilisé.','message','empty','toggleSignupPassword','Un\x20e-mail\x20de\x20vérification\x20a\x20été\x20envoyé.\x20Veuillez\x20vérifier\x20votre\x20boîte\x20de\x20réception.','signupConfirmPassword','AIzaSyD2MzAcFOGELXdRwdK-C1Mczm2quyV-HZs','1006530NZRBKh','resetEmail','identifier','user','/generate.html','users','signupPassword','error','fa-eye','value','emailVerified','13030tOamtg','/signup.html','test','Cette\x20adresse\x20email\x20est\x20déjà\x20utilisée.','loginButton','add','fa-eye-slash','generate.html','password','427560qkQClE','25gVBhUY','index.html','uid','preventDefault','split','52446OXFVsm','remove','data','forEach','resetButton','disposable_emails','/index.html','getElementById','then','email','trim','6597HdvPck','pathname','toggleSignupConfirmPassword','280174AqIGKQ','classList','Erreur\x20de\x20connexion:','click','Identifiant\x20incorrect.','href','addEventListener','text','togglePassword','Les\x20mots\x20de\x20passe\x20ne\x20correspondent\x20pas.','1:485438236563:web:a587b79c5d4bb26edeea66','generateurtoken-e282f','length','generateurtoken-e282f.firebaseapp.com','Création\x20de\x20compte\x20échouée:\x20','L\x27identifiant\x20doit\x20comporter\x20au\x20moins\x206\x20caractères\x20sans\x20espaces.','347484MJgTsk','exists','type','1028608kVlBTV','Erreur\x20d\x27envoi\x20de\x20l\x27email\x20de\x20réinitialisation:\x20','Le\x20mot\x20de\x20passe\x20doit\x20comporter\x20au\x20moins\x208\x20caractères\x20sans\x20espaces.','signupButton','7BOhkAZ','Erreur\x20d\x27envoi\x20de\x20l\x27email\x20de\x20réinitialisation:','location','Veuillez\x20vérifier\x20votre\x20adresse\x20e-mail\x20pour\x20vous\x20connecter.'];_0x46ae=function(){return _0x1bb5e9;};return _0x46ae();}import{getAuth,onAuthStateChanged,signInWithEmailAndPassword,createUserWithEmailAndPassword,signOut,sendPasswordResetEmail,sendEmailVerification}from'https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js';function _0x47f3(_0x331e8c,_0x564c23){const _0x46aea7=_0x46ae();return _0x47f3=function(_0x47f3fc,_0x2f1b92){_0x47f3fc=_0x47f3fc-0x189;let _0x68fd32=_0x46aea7[_0x47f3fc];return _0x68fd32;},_0x47f3(_0x331e8c,_0x564c23);}import{getFirestore,doc,setDoc,getDoc,collection,query,where,getDocs}from'https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js';const firebaseConfig={'apiKey':_0x24a50f(0x1b3),'authDomain':_0x24a50f(0x19f),'projectId':_0x24a50f(0x19d),'storageBucket':'generateurtoken-e282f.appspot.com','messagingSenderId':'485438236563','appId':_0x24a50f(0x19c)},app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app);document[_0x24a50f(0x18b)](_0x24a50f(0x1a8))?.[_0x24a50f(0x198)](_0x24a50f(0x195),async _0x2cc066=>{const _0x152265=_0x24a50f;_0x2cc066[_0x152265(0x1cc)]();const _0x443c35=document[_0x152265(0x18b)]('signupIdentifier')[_0x152265(0x1bd)][_0x152265(0x18e)](),_0x5cfe2f=document[_0x152265(0x18b)]('signupEmail')[_0x152265(0x1bd)][_0x152265(0x18e)](),_0x1e7bf6=document[_0x152265(0x18b)]('signupPassword')[_0x152265(0x1bd)][_0x152265(0x18e)](),_0x10cebd=document[_0x152265(0x18b)]('signupConfirmPassword')[_0x152265(0x1bd)]['trim']();if(_0x443c35[_0x152265(0x19e)]<0x6||/\s/[_0x152265(0x1c1)](_0x443c35)){alert(_0x152265(0x1a1));return;}if(_0x1e7bf6[_0x152265(0x19e)]<0x8||/\s/[_0x152265(0x1c1)](_0x1e7bf6)){alert(_0x152265(0x1a7));return;}if(_0x1e7bf6!==_0x10cebd){alert(_0x152265(0x19b));return;}try{const _0x3e3ec5=_0x5cfe2f[_0x152265(0x1cd)]('@')[0x1],_0x467005=await getDocs(collection(db,_0x152265(0x189)));let _0x13a1f6=![];_0x467005[_0x152265(0x1d1)](_0x7ab4f2=>{_0x3e3ec5===_0x7ab4f2['id']&&(_0x13a1f6=!![]);});if(_0x13a1f6){alert('Les\x20adresses\x20emails\x20jetables\x20ne\x20sont\x20pas\x20autorisées.');return;}const _0x286e58=await getDocs(query(collection(db,_0x152265(0x1b9)),where(_0x152265(0x18d),'==',_0x5cfe2f)));if(!_0x286e58[_0x152265(0x1af)]){alert(_0x152265(0x1c2));return;}const _0x17358e=await getDocs(query(collection(db,'users'),where(_0x152265(0x1b6),'==',_0x443c35)));if(!_0x17358e[_0x152265(0x1af)]){alert(_0x152265(0x1ad));return;}const _0x17e294=await createUserWithEmailAndPassword(auth,_0x5cfe2f,_0x1e7bf6),_0x12cf50=_0x17e294[_0x152265(0x1b7)];await sendEmailVerification(_0x12cf50),alert(_0x152265(0x1b1)),await setDoc(doc(db,'users',_0x12cf50[_0x152265(0x1cb)]),{'identifier':_0x443c35,'email':_0x5cfe2f,'role':'user'}),window[_0x152265(0x1ab)]['href']=_0x152265(0x1ca);}catch(_0x170eea){console[_0x152265(0x1bb)]('Erreur\x20de\x20création\x20de\x20compte:',_0x170eea[_0x152265(0x1ae)]),alert(_0x152265(0x1a0)+_0x170eea[_0x152265(0x1ae)]);}}),document[_0x24a50f(0x18b)](_0x24a50f(0x1c3))?.['addEventListener'](_0x24a50f(0x195),async _0x27325a=>{const _0x345c2b=_0x24a50f;_0x27325a[_0x345c2b(0x1cc)]();const _0x3104b2=document[_0x345c2b(0x18b)](_0x345c2b(0x1b6))['value'],_0x4c8c4c=document['getElementById'](_0x345c2b(0x1c7))['value'];try{const _0x3fae85=collection(db,_0x345c2b(0x1b9)),_0x16c355=query(_0x3fae85,where(_0x345c2b(0x1b6),'==',_0x3104b2)),_0x173b97=await getDocs(_0x16c355);if(_0x173b97[_0x345c2b(0x1af)])throw new Error(_0x345c2b(0x196));const _0x4dc981=_0x173b97['docs'][0x0][_0x345c2b(0x1d0)](),_0x3efdbf=_0x4dc981[_0x345c2b(0x18d)],_0x509a19=await signInWithEmailAndPassword(auth,_0x3efdbf,_0x4c8c4c),_0x31e60e=_0x509a19['user'];_0x31e60e['emailVerified']?window[_0x345c2b(0x1ab)][_0x345c2b(0x197)]=_0x345c2b(0x1c6):(alert(_0x345c2b(0x1ac)),window[_0x345c2b(0x1ab)][_0x345c2b(0x197)]=_0x345c2b(0x1ca));}catch(_0x93b86c){console[_0x345c2b(0x1bb)](_0x345c2b(0x194),_0x93b86c['message']),alert('Connexion\x20échouée:\x20'+_0x93b86c[_0x345c2b(0x1ae)]);}}),document['getElementById']('logoutButton')?.[_0x24a50f(0x198)](_0x24a50f(0x195),()=>{const _0xe1e007=_0x24a50f;signOut(auth)[_0xe1e007(0x18c)](()=>{const _0x3d499d=_0xe1e007;window[_0x3d499d(0x1ab)][_0x3d499d(0x197)]='index.html';})['catch'](_0x1a0ccc=>{const _0x5af32d=_0xe1e007;console[_0x5af32d(0x1bb)]('Erreur\x20de\x20déconnexion:',_0x1a0ccc['message']);});}),document['getElementById'](_0x24a50f(0x1d2))?.[_0x24a50f(0x198)](_0x24a50f(0x195),async _0x54e0e9=>{const _0x1e84dc=_0x24a50f;_0x54e0e9['preventDefault']();const _0x5b8770=document[_0x1e84dc(0x18b)](_0x1e84dc(0x1b5))[_0x1e84dc(0x1bd)];try{await sendPasswordResetEmail(auth,_0x5b8770),alert('Email\x20de\x20réinitialisation\x20envoyé\x20!');}catch(_0x276749){console['error'](_0x1e84dc(0x1aa),_0x276749[_0x1e84dc(0x1ae)]),alert(_0x1e84dc(0x1a6)+_0x276749['message']);}}),document[_0x24a50f(0x18b)](_0x24a50f(0x19a))?.[_0x24a50f(0x198)]('click',()=>{const _0x1934ff=_0x24a50f,_0x401a25=document[_0x1934ff(0x18b)](_0x1934ff(0x1c7)),_0x16cc7c=document[_0x1934ff(0x18b)](_0x1934ff(0x19a));_0x401a25[_0x1934ff(0x1a4)]===_0x1934ff(0x1c7)?(_0x401a25['type']=_0x1934ff(0x199),_0x16cc7c[_0x1934ff(0x193)][_0x1934ff(0x1cf)](_0x1934ff(0x1bc)),_0x16cc7c[_0x1934ff(0x193)][_0x1934ff(0x1c4)](_0x1934ff(0x1c5))):(_0x401a25[_0x1934ff(0x1a4)]=_0x1934ff(0x1c7),_0x16cc7c['classList'][_0x1934ff(0x1cf)](_0x1934ff(0x1c5)),_0x16cc7c['classList'][_0x1934ff(0x1c4)]('fa-eye'));}),document[_0x24a50f(0x18b)](_0x24a50f(0x1b0))?.[_0x24a50f(0x198)](_0x24a50f(0x195),()=>{const _0x303a2e=_0x24a50f,_0x2abda1=document[_0x303a2e(0x18b)](_0x303a2e(0x1ba)),_0x4cda98=document[_0x303a2e(0x18b)](_0x303a2e(0x1b0));_0x2abda1[_0x303a2e(0x1a4)]===_0x303a2e(0x1c7)?(_0x2abda1[_0x303a2e(0x1a4)]=_0x303a2e(0x199),_0x4cda98[_0x303a2e(0x193)]['remove'](_0x303a2e(0x1bc)),_0x4cda98[_0x303a2e(0x193)][_0x303a2e(0x1c4)](_0x303a2e(0x1c5))):(_0x2abda1[_0x303a2e(0x1a4)]=_0x303a2e(0x1c7),_0x4cda98[_0x303a2e(0x193)][_0x303a2e(0x1cf)](_0x303a2e(0x1c5)),_0x4cda98[_0x303a2e(0x193)]['add']('fa-eye'));}),document[_0x24a50f(0x18b)](_0x24a50f(0x191))?.[_0x24a50f(0x198)](_0x24a50f(0x195),()=>{const _0x2cfeea=_0x24a50f,_0x3159d2=document[_0x2cfeea(0x18b)](_0x2cfeea(0x1b2)),_0x47c734=document['getElementById'](_0x2cfeea(0x191));_0x3159d2[_0x2cfeea(0x1a4)]===_0x2cfeea(0x1c7)?(_0x3159d2[_0x2cfeea(0x1a4)]=_0x2cfeea(0x199),_0x47c734['classList']['remove'](_0x2cfeea(0x1bc)),_0x47c734[_0x2cfeea(0x193)][_0x2cfeea(0x1c4)]('fa-eye-slash')):(_0x3159d2[_0x2cfeea(0x1a4)]=_0x2cfeea(0x1c7),_0x47c734[_0x2cfeea(0x193)][_0x2cfeea(0x1cf)]('fa-eye-slash'),_0x47c734[_0x2cfeea(0x193)]['add'](_0x2cfeea(0x1bc)));}),onAuthStateChanged(auth,async _0x40f9ea=>{const _0x50011d=_0x24a50f;if(_0x40f9ea){const _0x37097f=doc(db,_0x50011d(0x1b9),_0x40f9ea[_0x50011d(0x1cb)]),_0x45a28b=await getDoc(_0x37097f);if(_0x45a28b[_0x50011d(0x1a3)]()){const _0x13608e=_0x40f9ea[_0x50011d(0x1be)];if(window['location']['pathname']==='/generate.html')!_0x13608e&&(window[_0x50011d(0x1ab)][_0x50011d(0x197)]=_0x50011d(0x1ca));else(window['location'][_0x50011d(0x190)]===_0x50011d(0x18a)||window[_0x50011d(0x1ab)]['pathname']===_0x50011d(0x1c0)||window[_0x50011d(0x1ab)][_0x50011d(0x190)]==='/password-reset.html')&&(_0x13608e&&(window[_0x50011d(0x1ab)]['href']=_0x50011d(0x1c6)));}}else window[_0x50011d(0x1ab)][_0x50011d(0x190)]===_0x50011d(0x1b8)&&(window[_0x50011d(0x1ab)][_0x50011d(0x197)]=_0x50011d(0x1ca));});
