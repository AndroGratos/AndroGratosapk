const _0x3a1684=_0x5a50;function _0x3de4(){const _0x53fa83=['data','addEventListener','generateurtoken-e282f.firebaseapp.com','empty','users','664AVNtfq','signupEmail','click','value','message','then','text','location','add','toggleSignupPassword','1575387AKsNPj','L\x27identifiant\x20doit\x20contenir\x20au\x20moins\x206\x20caractères\x20sans\x20espaces.','loginButton','identifier','Erreur\x20d\x27envoi\x20de\x20l\x27email\x20de\x20réinitialisation:\x20','signupIdentifier','35919lNMUTO','3742776rpvaWO','index.html','1:485438236563:web:a587b79c5d4bb26edeea66','fa-eye','L\x27identifiant\x20est\x20déjà\x20utilisé.\x20Veuillez\x20en\x20choisir\x20un\x20autre.','email','catch','user','test','signupPassword','Email\x20de\x20réinitialisation\x20envoyé\x20!','emailVerified','Le\x20mot\x20de\x20passe\x20doit\x20contenir\x20au\x20moins\x208\x20caractères\x20sans\x20espaces.','L\x27adresse\x20e-mail\x20fournie\x20est\x20un\x20e-mail\x20jetable.\x20Veuillez\x20utiliser\x20une\x20adresse\x20e-mail\x20valide.','length','/index.html','AIzaSyD2MzAcFOGELXdRwdK-C1Mczm2quyV-HZs','250390bAQBLx','10ataZQH','Identifiant\x20incorrect.','generate.html','uid','generateurtoken-e282f','39753acoAxZ','Un\x20e-mail\x20de\x20vérification\x20a\x20été\x20envoyé.\x20Veuillez\x20vérifier\x20votre\x20boîte\x20de\x20réception.','href','error','toggleSignupConfirmPassword','signupButton','Erreur\x20de\x20connexion:','Connexion\x20échouée:\x20','classList','signupConfirmPassword','/generate.html','password','type','resetButton','fa-eye-slash','remove','pathname','Les\x20mots\x20de\x20passe\x20ne\x20correspondent\x20pas.','230EsjerO','preventDefault','Création\x20de\x20compte\x20échouée:\x20','Erreur\x20de\x20création\x20de\x20compte:','trim','460364UlZdaz','logoutButton','Veuillez\x20vérifier\x20votre\x20adresse\x20e-mail\x20pour\x20vous\x20connecter.','togglePassword','getElementById','150yPqOEg'];_0x3de4=function(){return _0x53fa83;};return _0x3de4();}(function(_0x5889ea,_0x2dfb5f){const _0x19ef86=_0x5a50,_0x1ae690=_0x5889ea();while(!![]){try{const _0x4aeb64=parseInt(_0x19ef86(0x22b))/0x1*(parseInt(_0x19ef86(0x1f1))/0x2)+parseInt(_0x19ef86(0x1fb))/0x3+parseInt(_0x19ef86(0x230))/0x4+-parseInt(_0x19ef86(0x213))/0x5+-parseInt(_0x19ef86(0x1eb))/0x6*(-parseInt(_0x19ef86(0x219))/0x7)+-parseInt(_0x19ef86(0x202))/0x8+-parseInt(_0x19ef86(0x201))/0x9*(-parseInt(_0x19ef86(0x214))/0xa);if(_0x4aeb64===_0x2dfb5f)break;else _0x1ae690['push'](_0x1ae690['shift']());}catch(_0x733416){_0x1ae690['push'](_0x1ae690['shift']());}}}(_0x3de4,0x5422d));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js';import{getAuth,onAuthStateChanged,signInWithEmailAndPassword,createUserWithEmailAndPassword,signOut,sendPasswordResetEmail,sendEmailVerification}from'https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js';import{getFirestore,doc,setDoc,getDoc,collection,query,where,getDocs}from'https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js';const firebaseConfig={'apiKey':_0x3a1684(0x212),'authDomain':_0x3a1684(0x1ee),'projectId':_0x3a1684(0x218),'storageBucket':'generateurtoken-e282f.appspot.com','messagingSenderId':'485438236563','appId':_0x3a1684(0x204)},app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app);async function checkDisposableEmail(_0x487776){const _0xd791cf=_0x3a1684,_0x1d832d=collection(db,'disposable_emails'),_0x44a834=_0x487776['split']('@')[0x1],_0x5421ff=query(_0x1d832d,where(_0xd791cf(0x207),'==',_0x44a834)),_0x4cedc0=await getDocs(_0x5421ff);return!_0x4cedc0[_0xd791cf(0x1ef)];}function _0x5a50(_0x5b0a4d,_0x534052){const _0x3de462=_0x3de4();return _0x5a50=function(_0x5a50a3,_0x308877){_0x5a50a3=_0x5a50a3-0x1eb;let _0x1d8d30=_0x3de462[_0x5a50a3];return _0x1d8d30;},_0x5a50(_0x5b0a4d,_0x534052);}async function checkIdentifierUnique(_0x22fe98){const _0x2e99d6=_0x3a1684,_0x343b5b=collection(db,'users'),_0x42f03f=query(_0x343b5b,where('identifier','==',_0x22fe98)),_0x38dca8=await getDocs(_0x42f03f);return _0x38dca8[_0x2e99d6(0x1ef)];}document[_0x3a1684(0x234)](_0x3a1684(0x21e))?.[_0x3a1684(0x1ed)](_0x3a1684(0x1f3),async _0x1e675e=>{const _0x4d9b48=_0x3a1684;_0x1e675e['preventDefault']();const _0x507289=document[_0x4d9b48(0x234)](_0x4d9b48(0x200))['value'][_0x4d9b48(0x22f)](),_0x503f03=document[_0x4d9b48(0x234)](_0x4d9b48(0x1f2))['value'][_0x4d9b48(0x22f)](),_0x35a6d0=document[_0x4d9b48(0x234)](_0x4d9b48(0x20b))[_0x4d9b48(0x1f4)][_0x4d9b48(0x22f)](),_0x18604f=document[_0x4d9b48(0x234)]('signupConfirmPassword')[_0x4d9b48(0x1f4)][_0x4d9b48(0x22f)]();if(_0x507289[_0x4d9b48(0x210)]<0x6||/\s/[_0x4d9b48(0x20a)](_0x507289)){alert(_0x4d9b48(0x1fc));return;}if(_0x35a6d0[_0x4d9b48(0x210)]<0x8||/\s/[_0x4d9b48(0x20a)](_0x35a6d0)){alert('Le\x20mot\x20de\x20passe\x20doit\x20contenir\x20au\x20moins\x208\x20caractères\x20sans\x20espaces.');return;}if(_0x35a6d0!==_0x18604f){alert(_0x4d9b48(0x22a));return;}const _0x4466f0=await checkIdentifierUnique(_0x507289);if(!_0x4466f0){alert(_0x4d9b48(0x206));return;}const _0x2ad876=await checkDisposableEmail(_0x503f03);if(_0x2ad876){alert(_0x4d9b48(0x20f));return;}try{const _0x1ffe11=await createUserWithEmailAndPassword(auth,_0x503f03,_0x35a6d0),_0x161d79=_0x1ffe11[_0x4d9b48(0x209)];await sendEmailVerification(_0x161d79),alert(_0x4d9b48(0x21a)),await setDoc(doc(db,_0x4d9b48(0x1f0),_0x161d79[_0x4d9b48(0x217)]),{'identifier':_0x507289,'email':_0x503f03,'role':'user'}),window[_0x4d9b48(0x1f8)]['href']='index.html';}catch(_0x69bb3b){console[_0x4d9b48(0x21c)](_0x4d9b48(0x22e),_0x69bb3b[_0x4d9b48(0x1f5)]),alert(_0x4d9b48(0x22d)+_0x69bb3b[_0x4d9b48(0x1f5)]);}}),document['getElementById'](_0x3a1684(0x1fd))?.[_0x3a1684(0x1ed)](_0x3a1684(0x1f3),async _0x4f397c=>{const _0x506651=_0x3a1684;_0x4f397c[_0x506651(0x22c)]();const _0x220e7e=document[_0x506651(0x234)](_0x506651(0x1fe))['value'][_0x506651(0x22f)](),_0x599ed3=document[_0x506651(0x234)]('password')[_0x506651(0x1f4)][_0x506651(0x22f)]();if(_0x220e7e[_0x506651(0x210)]<0x6||/\s/['test'](_0x220e7e)){alert(_0x506651(0x1fc));return;}if(_0x599ed3[_0x506651(0x210)]<0x8||/\s/[_0x506651(0x20a)](_0x599ed3)){alert(_0x506651(0x20e));return;}try{const _0x50f0aa=collection(db,_0x506651(0x1f0)),_0x52e7f8=query(_0x50f0aa,where(_0x506651(0x1fe),'==',_0x220e7e)),_0x5b5c7b=await getDocs(_0x52e7f8);if(_0x5b5c7b['empty'])throw new Error(_0x506651(0x215));const _0x2ab517=_0x5b5c7b['docs'][0x0][_0x506651(0x1ec)](),_0x2a46f2=_0x2ab517[_0x506651(0x207)],_0x485bf3=await signInWithEmailAndPassword(auth,_0x2a46f2,_0x599ed3),_0x3b1701=_0x485bf3[_0x506651(0x209)];_0x3b1701[_0x506651(0x20d)]?window[_0x506651(0x1f8)]['href']=_0x506651(0x216):(alert(_0x506651(0x232)),window['location'][_0x506651(0x21b)]=_0x506651(0x203));}catch(_0x13474e){console[_0x506651(0x21c)](_0x506651(0x21f),_0x13474e['message']),alert(_0x506651(0x220)+_0x13474e[_0x506651(0x1f5)]);}}),document['getElementById'](_0x3a1684(0x231))?.['addEventListener'](_0x3a1684(0x1f3),()=>{const _0x5d22ac=_0x3a1684;signOut(auth)[_0x5d22ac(0x1f6)](()=>{const _0x38a544=_0x5d22ac;window['location'][_0x38a544(0x21b)]='index.html';})[_0x5d22ac(0x208)](_0x2cecb7=>{const _0x51ccec=_0x5d22ac;console[_0x51ccec(0x21c)]('Erreur\x20de\x20déconnexion:',_0x2cecb7[_0x51ccec(0x1f5)]);});}),document[_0x3a1684(0x234)](_0x3a1684(0x226))?.[_0x3a1684(0x1ed)]('click',async _0x28cf57=>{const _0x2c9a7a=_0x3a1684;_0x28cf57[_0x2c9a7a(0x22c)]();const _0x466597=document['getElementById']('resetEmail')[_0x2c9a7a(0x1f4)];try{await sendPasswordResetEmail(auth,_0x466597),alert(_0x2c9a7a(0x20c));}catch(_0x5ca17d){console['error']('Erreur\x20d\x27envoi\x20de\x20l\x27email\x20de\x20réinitialisation:',_0x5ca17d[_0x2c9a7a(0x1f5)]),alert(_0x2c9a7a(0x1ff)+_0x5ca17d['message']);}}),document[_0x3a1684(0x234)](_0x3a1684(0x233))?.['addEventListener'](_0x3a1684(0x1f3),()=>{const _0x3b6740=_0x3a1684,_0x523ee4=document[_0x3b6740(0x234)](_0x3b6740(0x224)),_0x852410=document[_0x3b6740(0x234)](_0x3b6740(0x233));_0x523ee4[_0x3b6740(0x225)]===_0x3b6740(0x224)?(_0x523ee4[_0x3b6740(0x225)]=_0x3b6740(0x1f7),_0x852410[_0x3b6740(0x221)][_0x3b6740(0x228)](_0x3b6740(0x205)),_0x852410[_0x3b6740(0x221)][_0x3b6740(0x1f9)](_0x3b6740(0x227))):(_0x523ee4[_0x3b6740(0x225)]=_0x3b6740(0x224),_0x852410[_0x3b6740(0x221)][_0x3b6740(0x228)](_0x3b6740(0x227)),_0x852410[_0x3b6740(0x221)][_0x3b6740(0x1f9)]('fa-eye'));}),document[_0x3a1684(0x234)](_0x3a1684(0x1fa))?.[_0x3a1684(0x1ed)](_0x3a1684(0x1f3),()=>{const _0x3ad424=_0x3a1684,_0x1f7384=document[_0x3ad424(0x234)](_0x3ad424(0x20b)),_0x2f8d9f=document[_0x3ad424(0x234)](_0x3ad424(0x1fa));_0x1f7384[_0x3ad424(0x225)]===_0x3ad424(0x224)?(_0x1f7384[_0x3ad424(0x225)]='text',_0x2f8d9f['classList'][_0x3ad424(0x228)](_0x3ad424(0x205)),_0x2f8d9f[_0x3ad424(0x221)][_0x3ad424(0x1f9)](_0x3ad424(0x227))):(_0x1f7384[_0x3ad424(0x225)]=_0x3ad424(0x224),_0x2f8d9f[_0x3ad424(0x221)][_0x3ad424(0x228)]('fa-eye-slash'),_0x2f8d9f[_0x3ad424(0x221)][_0x3ad424(0x1f9)](_0x3ad424(0x205)));}),document[_0x3a1684(0x234)](_0x3a1684(0x21d))?.['addEventListener']('click',()=>{const _0x3b64da=_0x3a1684,_0x47921a=document[_0x3b64da(0x234)](_0x3b64da(0x222)),_0x43cdbc=document['getElementById']('toggleSignupConfirmPassword');_0x47921a[_0x3b64da(0x225)]===_0x3b64da(0x224)?(_0x47921a['type']='text',_0x43cdbc[_0x3b64da(0x221)]['remove'](_0x3b64da(0x205)),_0x43cdbc[_0x3b64da(0x221)][_0x3b64da(0x1f9)](_0x3b64da(0x227))):(_0x47921a[_0x3b64da(0x225)]=_0x3b64da(0x224),_0x43cdbc[_0x3b64da(0x221)][_0x3b64da(0x228)](_0x3b64da(0x227)),_0x43cdbc['classList']['add']('fa-eye'));}),onAuthStateChanged(auth,async _0x285fa4=>{const _0x5efa91=_0x3a1684;if(_0x285fa4){const _0x16360e=doc(db,_0x5efa91(0x1f0),_0x285fa4[_0x5efa91(0x217)]),_0x31a47c=await getDoc(_0x16360e);if(_0x31a47c['exists']()){const _0x5c7f6d=_0x285fa4[_0x5efa91(0x20d)];if(window['location'][_0x5efa91(0x229)]===_0x5efa91(0x223))!_0x5c7f6d&&(window[_0x5efa91(0x1f8)]['href']=_0x5efa91(0x203));else(window['location'][_0x5efa91(0x229)]===_0x5efa91(0x211)||window[_0x5efa91(0x1f8)]['pathname']==='/signup.html'||window[_0x5efa91(0x1f8)][_0x5efa91(0x229)]==='/password-reset.html')&&(_0x5c7f6d&&(window['location'][_0x5efa91(0x21b)]=_0x5efa91(0x216)));}}else window[_0x5efa91(0x1f8)]['pathname']===_0x5efa91(0x223)&&(window['location']['href']='index.html');});
