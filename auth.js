const _0x55f248=_0x1556;function _0x2168(){const _0x40eaa4=['/password-reset.html','disposable_emails','63747PdDeSc','type','signupConfirmPassword','2905265CanaBl','users','toggleSignupPassword','39276YbaLdN','href','signupPassword','toggleSignupConfirmPassword','user','catch','loginButton','index.html','togglePassword','/generate.html','135347FIahTQ','Création\x20de\x20compte\x20échouée:\x20','empty','4UrIjmA','generateurtoken-e282f.appspot.com','click','trim','Erreur\x20de\x20déconnexion:','Erreur\x20d\x27envoi\x20de\x20l\x27email\x20de\x20réinitialisation:','10699RSOOmn','emailVerified','test','Le\x20mot\x20de\x20passe\x20doit\x20contenir\x20au\x20moins\x208\x20caractères\x20sans\x20espaces.','remove','/signup.html','/index.html','preventDefault','L\x27identifiant\x20doit\x20contenir\x20au\x20moins\x206\x20caractères\x20sans\x20espaces.','Identifiant\x20incorrect.','generateurtoken-e282f.firebaseapp.com','length','location','error','fa-eye-slash','fa-eye','signupIdentifier','uid','classList','logoutButton','generate.html','docs','2iCcOeG','258114TBndsI','data','message','Erreur\x20de\x20création\x20de\x20compte:','Email\x20de\x20réinitialisation\x20envoyé\x20!','then','value','resetEmail','696zaiaUJ','addEventListener','14wFjeGT','AIzaSyD2MzAcFOGELXdRwdK-C1Mczm2quyV-HZs','485438236563','1237776vehbNl','add','30snVGvG','pathname','getElementById','L\x27identifiant\x20est\x20déjà\x20utilisé.\x20Veuillez\x20en\x20choisir\x20un\x20autre.','1262235XjovsY','password','text','identifier'];_0x2168=function(){return _0x40eaa4;};return _0x2168();}(function(_0x3b8a12,_0x4b7fbb){const _0x241cc2=_0x1556,_0x348247=_0x3b8a12();while(!![]){try{const _0x54a0da=-parseInt(_0x241cc2(0xd7))/0x1*(parseInt(_0x241cc2(0xad))/0x2)+parseInt(_0x241cc2(0xbb))/0x3*(-parseInt(_0x241cc2(0xda))/0x4)+-parseInt(_0x241cc2(0xc1))/0x5+parseInt(_0x241cc2(0xae))/0x6*(-parseInt(_0x241cc2(0xb8))/0x7)+-parseInt(_0x241cc2(0xb6))/0x8*(parseInt(_0x241cc2(0xc7))/0x9)+parseInt(_0x241cc2(0xbd))/0xa*(-parseInt(_0x241cc2(0xca))/0xb)+-parseInt(_0x241cc2(0xcd))/0xc*(-parseInt(_0x241cc2(0xe0))/0xd);if(_0x54a0da===_0x4b7fbb)break;else _0x348247['push'](_0x348247['shift']());}catch(_0x3682d4){_0x348247['push'](_0x348247['shift']());}}}(_0x2168,0x61561));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js';import{getAuth,onAuthStateChanged,signInWithEmailAndPassword,createUserWithEmailAndPassword,signOut,sendPasswordResetEmail,sendEmailVerification}from'https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js';import{getFirestore,doc,setDoc,getDoc,collection,query,where,getDocs}from'https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js';function _0x1556(_0x12563c,_0x247a0c){const _0x2168d3=_0x2168();return _0x1556=function(_0x1556f7,_0x4b95cc){_0x1556f7=_0x1556f7-0x99;let _0x224e41=_0x2168d3[_0x1556f7];return _0x224e41;},_0x1556(_0x12563c,_0x247a0c);}const firebaseConfig={'apiKey':_0x55f248(0xb9),'authDomain':_0x55f248(0xa1),'projectId':'generateurtoken-e282f','storageBucket':_0x55f248(0xdb),'messagingSenderId':_0x55f248(0xba),'appId':'1:485438236563:web:a587b79c5d4bb26edeea66'},app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app);async function checkDisposableEmail(_0x424793){const _0x5dad70=_0x55f248,_0x17f480=collection(db,_0x5dad70(0xc6)),_0x13178d=_0x424793['split']('@')[0x1],_0x129b01=query(_0x17f480,where('email','==',_0x13178d)),_0x49dc78=await getDocs(_0x129b01);return!_0x49dc78[_0x5dad70(0xd9)];}async function checkIdentifierUnique(_0x231dd7){const _0x195bbe=_0x55f248,_0x35f18e=collection(db,_0x195bbe(0xcb)),_0x2990ab=query(_0x35f18e,where('identifier','==',_0x231dd7)),_0xf90ad5=await getDocs(_0x2990ab);return _0xf90ad5[_0x195bbe(0xd9)];}document['getElementById']('signupButton')?.[_0x55f248(0xb7)](_0x55f248(0xdc),async _0x4b93ac=>{const _0x34bd03=_0x55f248;_0x4b93ac['preventDefault']();const _0x310c86=document['getElementById'](_0x34bd03(0xa7))[_0x34bd03(0xb4)][_0x34bd03(0xdd)](),_0x3ead14=document[_0x34bd03(0xbf)]('signupEmail')[_0x34bd03(0xb4)][_0x34bd03(0xdd)](),_0x587765=document['getElementById']('signupPassword')['value']['trim'](),_0x3c7d4f=document['getElementById'](_0x34bd03(0xc9))[_0x34bd03(0xb4)]['trim']();if(_0x310c86[_0x34bd03(0xa2)]<0x6||/\s/[_0x34bd03(0x99)](_0x310c86)){alert(_0x34bd03(0x9f));return;}if(_0x587765[_0x34bd03(0xa2)]<0x8||/\s/[_0x34bd03(0x99)](_0x587765)){alert('Le\x20mot\x20de\x20passe\x20doit\x20contenir\x20au\x20moins\x208\x20caractères\x20sans\x20espaces.');return;}if(_0x587765!==_0x3c7d4f){alert('Les\x20mots\x20de\x20passe\x20ne\x20correspondent\x20pas.');return;}const _0x3c5077=await checkIdentifierUnique(_0x310c86);if(!_0x3c5077){alert(_0x34bd03(0xc0));return;}const _0x20a817=await checkDisposableEmail(_0x3ead14);if(_0x20a817){alert('L\x27adresse\x20e-mail\x20fournie\x20est\x20un\x20e-mail\x20jetable.\x20Veuillez\x20utiliser\x20une\x20adresse\x20e-mail\x20valide.');return;}try{const _0x1c0f8d=await createUserWithEmailAndPassword(auth,_0x3ead14,_0x587765),_0x1b6b64=_0x1c0f8d[_0x34bd03(0xd1)];await sendEmailVerification(_0x1b6b64),alert('Un\x20e-mail\x20de\x20vérification\x20a\x20été\x20envoyé.\x20Veuillez\x20vérifier\x20votre\x20boîte\x20de\x20réception.'),await setDoc(doc(db,_0x34bd03(0xcb),_0x1b6b64[_0x34bd03(0xa8)]),{'identifier':_0x310c86,'email':_0x3ead14,'role':_0x34bd03(0xd1),'clickLeft':0x5,'resetTime':null}),window['location'][_0x34bd03(0xce)]=_0x34bd03(0xd4);}catch(_0x54cbc2){console['error'](_0x34bd03(0xb1),_0x54cbc2[_0x34bd03(0xb0)]),alert(_0x34bd03(0xd8)+_0x54cbc2[_0x34bd03(0xb0)]);}}),document[_0x55f248(0xbf)](_0x55f248(0xd3))?.[_0x55f248(0xb7)](_0x55f248(0xdc),async _0x43717b=>{const _0x1bb0ca=_0x55f248;_0x43717b[_0x1bb0ca(0x9e)]();const _0x4fe71a=document[_0x1bb0ca(0xbf)](_0x1bb0ca(0xc4))[_0x1bb0ca(0xb4)][_0x1bb0ca(0xdd)](),_0x2a756c=document['getElementById'](_0x1bb0ca(0xc2))[_0x1bb0ca(0xb4)][_0x1bb0ca(0xdd)]();if(_0x4fe71a[_0x1bb0ca(0xa2)]<0x6||/\s/[_0x1bb0ca(0x99)](_0x4fe71a)){alert(_0x1bb0ca(0x9f));return;}if(_0x2a756c[_0x1bb0ca(0xa2)]<0x8||/\s/[_0x1bb0ca(0x99)](_0x2a756c)){alert(_0x1bb0ca(0x9a));return;}try{const _0x47beb7=collection(db,_0x1bb0ca(0xcb)),_0x1a0184=query(_0x47beb7,where('identifier','==',_0x4fe71a)),_0x35a2ad=await getDocs(_0x1a0184);if(_0x35a2ad[_0x1bb0ca(0xd9)])throw new Error(_0x1bb0ca(0xa0));const _0x4c311f=_0x35a2ad[_0x1bb0ca(0xac)][0x0][_0x1bb0ca(0xaf)](),_0x3abb74=_0x4c311f['email'],_0xb3e229=await signInWithEmailAndPassword(auth,_0x3abb74,_0x2a756c),_0x46545e=_0xb3e229[_0x1bb0ca(0xd1)];_0x46545e[_0x1bb0ca(0xe1)]?window[_0x1bb0ca(0xa3)]['href']='generate.html':(alert('Veuillez\x20vérifier\x20votre\x20adresse\x20e-mail\x20pour\x20vous\x20connecter.'),window[_0x1bb0ca(0xa3)][_0x1bb0ca(0xce)]=_0x1bb0ca(0xd4));}catch(_0x4aec08){console[_0x1bb0ca(0xa4)]('Erreur\x20de\x20connexion:',_0x4aec08[_0x1bb0ca(0xb0)]),alert('Connexion\x20échouée:\x20'+_0x4aec08[_0x1bb0ca(0xb0)]);}}),document[_0x55f248(0xbf)](_0x55f248(0xaa))?.[_0x55f248(0xb7)](_0x55f248(0xdc),()=>{const _0x536b80=_0x55f248;signOut(auth)[_0x536b80(0xb3)](()=>{const _0xf463e5=_0x536b80;window[_0xf463e5(0xa3)][_0xf463e5(0xce)]='index.html';})[_0x536b80(0xd2)](_0x431a94=>{const _0x2ba806=_0x536b80;console['error'](_0x2ba806(0xde),_0x431a94[_0x2ba806(0xb0)]);});}),document[_0x55f248(0xbf)]('resetButton')?.[_0x55f248(0xb7)](_0x55f248(0xdc),async _0x20a19c=>{const _0x15857d=_0x55f248;_0x20a19c[_0x15857d(0x9e)]();const _0x14ae4b=document[_0x15857d(0xbf)](_0x15857d(0xb5))[_0x15857d(0xb4)];try{await sendPasswordResetEmail(auth,_0x14ae4b),alert(_0x15857d(0xb2));}catch(_0x4491ad){console[_0x15857d(0xa4)](_0x15857d(0xdf),_0x4491ad['message']),alert('Erreur\x20d\x27envoi\x20de\x20l\x27email\x20de\x20réinitialisation:\x20'+_0x4491ad[_0x15857d(0xb0)]);}}),document[_0x55f248(0xbf)]('togglePassword')?.[_0x55f248(0xb7)](_0x55f248(0xdc),()=>{const _0x22ddd7=_0x55f248,_0x54d54e=document[_0x22ddd7(0xbf)](_0x22ddd7(0xc2)),_0x14c514=document[_0x22ddd7(0xbf)](_0x22ddd7(0xd5));_0x54d54e['type']==='password'?(_0x54d54e[_0x22ddd7(0xc8)]=_0x22ddd7(0xc3),_0x14c514['classList'][_0x22ddd7(0x9b)](_0x22ddd7(0xa6)),_0x14c514[_0x22ddd7(0xa9)]['add'](_0x22ddd7(0xa5))):(_0x54d54e['type']=_0x22ddd7(0xc2),_0x14c514[_0x22ddd7(0xa9)][_0x22ddd7(0x9b)](_0x22ddd7(0xa5)),_0x14c514[_0x22ddd7(0xa9)][_0x22ddd7(0xbc)](_0x22ddd7(0xa6)));}),document['getElementById'](_0x55f248(0xcc))?.[_0x55f248(0xb7)](_0x55f248(0xdc),()=>{const _0x5e111a=_0x55f248,_0x11de38=document['getElementById'](_0x5e111a(0xcf)),_0x4af429=document['getElementById'](_0x5e111a(0xcc));_0x11de38[_0x5e111a(0xc8)]===_0x5e111a(0xc2)?(_0x11de38[_0x5e111a(0xc8)]=_0x5e111a(0xc3),_0x4af429[_0x5e111a(0xa9)][_0x5e111a(0x9b)](_0x5e111a(0xa6)),_0x4af429[_0x5e111a(0xa9)]['add']('fa-eye-slash')):(_0x11de38[_0x5e111a(0xc8)]=_0x5e111a(0xc2),_0x4af429[_0x5e111a(0xa9)][_0x5e111a(0x9b)]('fa-eye-slash'),_0x4af429[_0x5e111a(0xa9)][_0x5e111a(0xbc)](_0x5e111a(0xa6)));}),document[_0x55f248(0xbf)](_0x55f248(0xd0))?.[_0x55f248(0xb7)](_0x55f248(0xdc),()=>{const _0x1d00e5=_0x55f248,_0x337ac2=document['getElementById'](_0x1d00e5(0xc9)),_0x5c6fc3=document[_0x1d00e5(0xbf)]('toggleSignupConfirmPassword');_0x337ac2[_0x1d00e5(0xc8)]==='password'?(_0x337ac2[_0x1d00e5(0xc8)]=_0x1d00e5(0xc3),_0x5c6fc3[_0x1d00e5(0xa9)][_0x1d00e5(0x9b)](_0x1d00e5(0xa6)),_0x5c6fc3[_0x1d00e5(0xa9)][_0x1d00e5(0xbc)](_0x1d00e5(0xa5))):(_0x337ac2[_0x1d00e5(0xc8)]=_0x1d00e5(0xc2),_0x5c6fc3[_0x1d00e5(0xa9)][_0x1d00e5(0x9b)](_0x1d00e5(0xa5)),_0x5c6fc3[_0x1d00e5(0xa9)][_0x1d00e5(0xbc)](_0x1d00e5(0xa6)));}),onAuthStateChanged(auth,async _0x48617b=>{const _0x572ee4=_0x55f248;if(_0x48617b){const _0x2fe0e9=doc(db,_0x572ee4(0xcb),_0x48617b[_0x572ee4(0xa8)]),_0x2639c1=await getDoc(_0x2fe0e9);if(_0x2639c1['exists']()){const _0x4a3679=_0x48617b[_0x572ee4(0xe1)];if(window[_0x572ee4(0xa3)]['pathname']==='/generate.html')!_0x4a3679&&(window[_0x572ee4(0xa3)][_0x572ee4(0xce)]=_0x572ee4(0xd4));else(window[_0x572ee4(0xa3)][_0x572ee4(0xbe)]===_0x572ee4(0x9d)||window[_0x572ee4(0xa3)]['pathname']===_0x572ee4(0x9c)||window[_0x572ee4(0xa3)]['pathname']===_0x572ee4(0xc5))&&(_0x4a3679&&(window[_0x572ee4(0xa3)][_0x572ee4(0xce)]=_0x572ee4(0xab)));}}else window[_0x572ee4(0xa3)][_0x572ee4(0xbe)]===_0x572ee4(0xd6)&&(window['location'][_0x572ee4(0xce)]=_0x572ee4(0xd4));});
