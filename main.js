const _0x4f0f68=_0x2b31;(function(_0x33dddd,_0x427a94){const _0x15959e=_0x2b31,_0x30bcde=_0x33dddd();while(!![]){try{const _0x39a573=parseInt(_0x15959e(0x1d7))/0x1*(parseInt(_0x15959e(0x1da))/0x2)+parseInt(_0x15959e(0x1d8))/0x3*(-parseInt(_0x15959e(0x1c4))/0x4)+-parseInt(_0x15959e(0x1e4))/0x5+-parseInt(_0x15959e(0x1eb))/0x6+-parseInt(_0x15959e(0x1d0))/0x7+-parseInt(_0x15959e(0x1ea))/0x8*(parseInt(_0x15959e(0x1c7))/0x9)+parseInt(_0x15959e(0x1e5))/0xa;if(_0x39a573===_0x427a94)break;else _0x30bcde['push'](_0x30bcde['shift']());}catch(_0x591935){_0x30bcde['push'](_0x30bcde['shift']());}}}(_0x1034,0xd7523));import{getAuth}from'https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js';function _0x1034(){const _0x295228=['918502PYrzGM','location','textContent','colorSettings','style','color','getElementById','value','map','generateButton','7148155pIdnvn','45576250YKsdgx','countdown','backgroundColor','mailto:','click','497384jIUNyH','2215902iYSDSZ','random','display','settingsButton','copyButton','Bonjour,\x0a\x0aLe\x20code\x20suivant\x20a\x20été\x20signalé\x20comme\x20erroné\x20:\x0a','href','settingsModal','none','uid','block','4KiBmPp','emailButton','inline-block','153zFtzQd','code','querySelector','notification','error','Code\x20Erroné\x20Signalé','saveButton','length','\x0a\x0aMerci\x20de\x20le\x20vérifier.','7532721kRgSEQ','toggleColorSettings','addEventListener','body','errorButton','clipboard','floor','2EikprD','1986540ISXWJx','users'];_0x1034=function(){return _0x295228;};return _0x1034();}import{getFirestore,doc,getDoc,updateDoc,collection,getDocs}from'https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js';let codes=[];document['getElementById'](_0x4f0f68(0x1e3))?.[_0x4f0f68(0x1d2)]('click',generateCode),document[_0x4f0f68(0x1e0)](_0x4f0f68(0x1ef))?.[_0x4f0f68(0x1d2)]('click',copyCode),document[_0x4f0f68(0x1e0)](_0x4f0f68(0x1d4))?.[_0x4f0f68(0x1d2)](_0x4f0f68(0x1e9),showError),document[_0x4f0f68(0x1e0)](_0x4f0f68(0x1c5))?.[_0x4f0f68(0x1d2)]('click',sendEmail),document[_0x4f0f68(0x1e0)](_0x4f0f68(0x1ee))?.[_0x4f0f68(0x1d2)](_0x4f0f68(0x1e9),openSettings),document['getElementById'](_0x4f0f68(0x1cd))?.[_0x4f0f68(0x1d2)](_0x4f0f68(0x1e9),saveSettings),document[_0x4f0f68(0x1e0)](_0x4f0f68(0x1e6))[_0x4f0f68(0x1de)]['display']=_0x4f0f68(0x1f3),document[_0x4f0f68(0x1e0)](_0x4f0f68(0x1d1))?.[_0x4f0f68(0x1d2)](_0x4f0f68(0x1e9),toggleColorSettings);async function loadCodes(){const _0x2321f5=_0x4f0f68,_0x4460f9=getFirestore(),_0x2a3471=collection(_0x4460f9,'codes'),_0x211ee0=await getDocs(_0x2a3471);codes=_0x211ee0['docs'][_0x2321f5(0x1e2)](_0x15aca4=>_0x15aca4['id']);}function _0x2b31(_0x5cc698,_0x12b19f){const _0x103470=_0x1034();return _0x2b31=function(_0x2b3174,_0x5ec8d1){_0x2b3174=_0x2b3174-0x1c3;let _0x4b099d=_0x103470[_0x2b3174];return _0x4b099d;},_0x2b31(_0x5cc698,_0x12b19f);}async function generateCode(){const _0x3d6f6b=_0x4f0f68;await loadCodes();const _0x54e721=getAuth(),_0x269f94=getFirestore(),_0x368aec=_0x54e721['currentUser'];if(!_0x368aec){alert('Vous\x20devez\x20être\x20connecté\x20pour\x20générer\x20un\x20code.');return;}const _0x20c960=doc(_0x269f94,_0x3d6f6b(0x1d9),_0x368aec[_0x3d6f6b(0x1f4)]),_0x29153e=await getDoc(_0x20c960);if(!_0x29153e['exists']()){alert('Utilisateur\x20non\x20trouvé.');return;}if(codes[_0x3d6f6b(0x1ce)]===0x0){alert('Aucun\x20code\x20disponible\x20pour\x20générer.');return;}const _0x4971e4=Math[_0x3d6f6b(0x1d6)](Math[_0x3d6f6b(0x1ec)]()*codes['length']),_0x4d0025=codes[_0x4971e4];document['getElementById'](_0x3d6f6b(0x1c8))[_0x3d6f6b(0x1dc)]=_0x4d0025,document[_0x3d6f6b(0x1e0)](_0x3d6f6b(0x1ef))[_0x3d6f6b(0x1de)][_0x3d6f6b(0x1ed)]='inline-block',document[_0x3d6f6b(0x1e0)](_0x3d6f6b(0x1d4))[_0x3d6f6b(0x1de)][_0x3d6f6b(0x1ed)]=_0x3d6f6b(0x1c6);}function copyCode(){const _0x177589=_0x4f0f68,_0x2d0e49=document['getElementById'](_0x177589(0x1c8))[_0x177589(0x1dc)];navigator[_0x177589(0x1d5)]['writeText'](_0x2d0e49)['then'](()=>{const _0x5897b9=_0x177589;document[_0x5897b9(0x1e0)]('notification')['style']['display']=_0x5897b9(0x1c3),setTimeout(()=>document[_0x5897b9(0x1e0)](_0x5897b9(0x1ca))[_0x5897b9(0x1de)]['display']=_0x5897b9(0x1f3),0x7d0);})['catch'](_0x1e2159=>console[_0x177589(0x1cb)]('Erreur\x20lors\x20de\x20la\x20copie:',_0x1e2159));}function showError(){const _0xb29ebf=_0x4f0f68;document[_0xb29ebf(0x1e0)]('error')[_0xb29ebf(0x1de)][_0xb29ebf(0x1ed)]=_0xb29ebf(0x1c3),document[_0xb29ebf(0x1e0)]('copyButton')['style'][_0xb29ebf(0x1ed)]=_0xb29ebf(0x1f3),document[_0xb29ebf(0x1e0)](_0xb29ebf(0x1d4))[_0xb29ebf(0x1de)][_0xb29ebf(0x1ed)]=_0xb29ebf(0x1f3);}function sendEmail(){const _0x3a81e9=_0x4f0f68,_0x7a4dae=document[_0x3a81e9(0x1e0)](_0x3a81e9(0x1c8))[_0x3a81e9(0x1dc)],_0x53c53b='generateurarltoken@gmail.com',_0x2308e8=_0x3a81e9(0x1cc),_0x4949e6=_0x3a81e9(0x1f0)+_0x7a4dae+_0x3a81e9(0x1cf);window[_0x3a81e9(0x1db)][_0x3a81e9(0x1f1)]=_0x3a81e9(0x1e8)+_0x53c53b+'?subject='+encodeURIComponent(_0x2308e8)+'&body='+encodeURIComponent(_0x4949e6);}function openSettings(){const _0x6d72a3=_0x4f0f68;document['getElementById']('settingsModal')['style'][_0x6d72a3(0x1ed)]='block';}function saveSettings(){const _0x571f00=_0x4f0f68,_0x3b6293=document['getElementById'](_0x571f00(0x1df))[_0x571f00(0x1e1)];document[_0x571f00(0x1d3)]['style'][_0x571f00(0x1e7)]=_0x3b6293;}function toggleColorSettings(){const _0x12afb5=_0x4f0f68,_0x49d250=document[_0x12afb5(0x1e0)](_0x12afb5(0x1dd));_0x49d250[_0x12afb5(0x1de)][_0x12afb5(0x1ed)]=_0x49d250['style'][_0x12afb5(0x1ed)]===_0x12afb5(0x1f3)?_0x12afb5(0x1c3):'none';}document[_0x4f0f68(0x1c9)]('.close-button')[_0x4f0f68(0x1d2)](_0x4f0f68(0x1e9),()=>{const _0x470fc5=_0x4f0f68;document['getElementById'](_0x470fc5(0x1f2))[_0x470fc5(0x1de)][_0x470fc5(0x1ed)]=_0x470fc5(0x1f3);});
